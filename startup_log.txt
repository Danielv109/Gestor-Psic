
> gestor-psic@1.0.0 start
> nest start

[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +39ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppThrottlerModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSystemModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mThrottlerModule dependencies initialized[39m[38;5;3m +13ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCollaborationsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuditModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCalendarModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCryptoModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPatientsModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppointmentsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShadowNotesModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSessionsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mWorkflowModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mExportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +8ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +3ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/refresh, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/logout, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/logout-all, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/change-password, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPatientsController {/api/patients}:[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/patients, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/patients, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/patients/:id, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/patients/:id/team, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/patients/:id, PUT} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/patients/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mSessionsController {/api/sessions}:[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/sessions, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/sessions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/sessions/patient/:patientId, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/sessions/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/sessions/:id/versions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/sessions/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/sessions/:id/sign, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAppointmentsController {/api/appointments}:[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments/upcoming, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments/range, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments/:id/confirm, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments/:id/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/appointments/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWorkflowController {/api/workflow}:[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/workflow/appointment/:id/status, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/workflow/appointment/:id/confirm, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/workflow/appointment/:id/no-show, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/workflow/appointment/:id/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/workflow/appointment/:id/start-session, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/workflow/session/:id/end, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/workflow/session/:id/sign, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mExportController {/api/export}:[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/export/session/:id, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/export/session/:id/pdf-structure, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/export/patient/:id/history, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/export/permissions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCalendarController {/api/calendar}:[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/daily, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/weekly, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/monthly, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/range, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/check-overlap, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/availability/:therapistId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/reminders/pending, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/reminders/process, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/calendar/reminders/send/:appointmentId, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShadowNotesController {/api/shadow-notes}:[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/shadow-notes, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/shadow-notes, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/shadow-notes/session/:sessionId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/shadow-notes/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/shadow-notes/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/shadow-notes/:id, DELETE} route[39m[38;5;3m +0ms[39m
prisma:info Starting a postgresql pool with 33 connections.
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mConnected to database[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mSoft delete middleware applied (excludes: AuditLog)[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[KeyManagementService] [39m[32mMaster key initialized from configuration[39m
prisma:query SELECT "public"."encryption_keys"."id", "public"."encryption_keys"."purpose", "public"."encryption_keys"."version", "public"."encryption_keys"."algorithm", "public"."encryption_keys"."isActive", "public"."encryption_keys"."activatedAt", "public"."encryption_keys"."rotatedAt", "public"."encryption_keys"."expiresAt", "public"."encryption_keys"."vaultKeyPath", "public"."encryption_keys"."createdAt" FROM "public"."encryption_keys" WHERE "public"."encryption_keys"."isActive" = $1 OFFSET $2
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[KeyManagementService] [39m[32mLoaded 0 active encryption keys[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[KeyManagementService] [39m[32mKeyManagementService initialized[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +3ms[39m
[32m[Nest] 34424  - [39m10/02/2026, 10:03:25 a.m. [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m­ƒÜÇ Application running on port 3000[39m
